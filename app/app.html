<div class="science-app" data-app-name="ebi-interaction-table-app">
    <div id="ebi_tv">

        <h3>Enter a gene name to view its protein-protein interactions</h3>
        <p>Query (Any gene name or AGI ID, e.g. ASK1, AT3G62980):</p>
        <form name="ebi_tv_gene_form" class="form-inline">
            <label for="ebi_tv_gene" class="sr-only">Gene name or AGI ID</label>
            <input type="text" name="ebi_tv_gene" id="ebi_tv_gene" value="AT3G62980" class="form-control" placeholder="Gene name or AGI ID"/>
            <button type="submit" class="btn btn-success">Submit</button>
            <button type="button" class="btn btn-danger" id="ebi_tv_gene_form_reset">Clear</button>
        </form>
        <br>

        <ul id="ebi_tv_tabs" class="nav nav-tabs" role="tablist">
            <li id="t_about"><a href="#d_about" role="tab" data-toggle="tab">About</a></li>
            <li id="t_graph"><a href="#d_graph" role="tab" data-toggle="tab">Graph <span class="ebi_tv_graph_progress hidden"><i class="fa fa-refresh fa-spin"></i></span></a></li>
            <li id="t_table"><a href="#d_table" role="tab" data-toggle="tab">Table <span class="ebi_tv_table_progress hidden"><i class="fa fa-refresh fa-spin"></i></span></a></li>
        </ul>

        <div class="error"></div>

        <div id="ebi_tv_tab_content" class="tab-content">
            <div id="d_about" class="tab-pane fade">
                <a href="http://www.ebi.ac.uk/intact" target="_blank"><img src="http://www.ebi.ac.uk/intact/images/IntAct_logo.png" alt="IntAct logo" height="64" /></a>
                <p>This app displays molecular interaction data (in graph and table format) obtained by searching <a href="http://www.ebi.ac.uk/intact" target="_blank">IntAct <i class="fa fa-external-link"></i></a>, a public
                repository where molecular interaction data is stored and accessed, hosted by the European Bioinformatics Institute (<a href="http://www.ebi.ac.uk" target="_blank">EMBL-EBI <i class="fa fa-external-link"></i></a>)
                in the UK. The data is queried by using a <a href="http://psicquic.googlecode.com/" target="_blank">PSICQUIC <i class="fa fa-external-link"></i></a> web service. This is a
                standard created by the <a href="http://www.psidev.info/" target="_blank">HUPO Proteomics Standard Initiative (HUPO-PSI) <i class="fa fa-external-link"></i></a> to make it easy
                to access molecular interaction databases programmatically. There is a <a href="http://www.ebi.ac.uk/Tools/webservices/psicquic/registry/registry?action=STATUS" target="_blank">Registry <i class="fa fa-external-link"></i></a>
                hosted by EMBL-EBI that provides a list of all the interaction databases that conform to this standard. The data is initially
                returned from the service in PSI-MITAB <a href="https://code.google.com/p/psimi/wiki/PsimiTabFormat" target="_blank">version 2.5 <i class="fa fa-external-link"></i></a> format.</p>

                <h4>EMBL-EBI asks that the following paper be cited when using IntAct data:</h4>
                <ul>
                    <li><strong>The MIntAct project--IntAct as a common curation platform for 11 molecular interaction databases.</strong> Orchard S et al. <i>Nucl. Acids Res. (2013) doi: 10.1093/nar/gkt1115.</i> (<a href="http://www.ncbi.nlm.nih.gov/pubmed/24234451" target="_blank">PMID:24234451 <i class="fa fa-external-link"></i></a>)</li>
                </ul>

                <h4>Instructions</h4>
                <p>To get started, enter either a gene symbol or AGI Locus identifier in the search box and click on the <strong>Submit</strong> button. At this point,
                data will be loaded in two tabs labeled <strong>Graph</strong> and <strong>Table</strong>. The <strong>Graph</strong> tab contains the interaction data drawn in a network graph using <a href="http://js.cytoscape.org/" target="_blank">Cytoscape <i class="fa fa-external-link"></i></a>. The <strong>Table</strong> tab lists
                all of the information about each interaction in table format.</p>
                <h5>Features (Graph)</h5>
                <p>
                    <ul>
                        <li>Individual nodes can be moved around by clicking and dragging on a node.</li>
                        <li>An individual interaction can be highlighted on the graph by clicking on a node. Click again anywhere else on the graph to show all interactions.</li>
                        <li>Extra information about an interaction such as experiment, confidence score, and publication can be seen by hovering the pointer over an interaction (edge).</li>
                        <li>The graph can be zoomed in or out by placing the cursor over the graph and scrolling up or down with a mouse or trackpad.</li>
                        <li>There is a button bar beneath the graph that allows many graph manipulations including redrawing the graph, toggling the IDs between UniProt IDs and AGI Locus IDs,
                            moving the node labels around, toggling the node or edge labels, showing a legend, changing the graph layout, and exporting the graph in PNG (image as shown), JSON (cytoscape) or CSV format.</li>
                        <li>Export options:</li>
                            <ul>
                                <li>When exporting a PNG image, the graph will look exactly as it does on the screen.</li>
                                <li>The PNG image is saved without prompting in the brower's current download location and the filename differs based on the browser used: Safari (Unknown), Chrome (download), Firefox (random string of characters).</li>
                                <li>When exporting JSON or CSV data, the file is saved without prompting in the browser's current download location and the filename will be <b>ebi-intact-results-for-&lt;query&gt;.txt</b> (CSV) or <b>ebi-intact-graph-for-&lt;query&gt;.json</b> (JSON).
                                    <em>Note: when using Safari for the Mac, the file data will be opened in a new tab or window and <b>File->Save As...</b> must be used to save the file.</em></li>
                            </ul>
                    </ul>
                </p>
                <h5>Features (Table)</h5>
                <p>
                    <ul>
                        <li>Sort the table by any column by clicking on the column header.</li>
                        <li>Change the columns that are shown by clicking on the <strong>Show / hide columns</strong> button and then selecting/de-selecting the columns.</li>
                        <li>Export all of the interaction data in the table in tab-delimited format by clicking on the <strong>Export CSV</strong> button.</li>
                        <li>Filter the results further by entering text in the <strong>Search</strong> box in the upper-right of the table.</li>
                        <li>Export options:</li>
                        <ul>
                            <li>When export CSV data, the file is saved without prompting in the browser's current download location and the filename will be <b>ebi-intact-results-for-&lt;query&gt;.txt</b>.
                                <em>Note: when using Safari for the Mac, the file data will be opened in a new tab or window and <b>File->Save As...</b> must be used to save the file.</em></li>
                        </ul>
                    </ul>
                </p>
            </div>

            <div id="d_graph" class="tab-pane fade in active">
                <div class="ebi_tv_progress hidden">
                    <h4>Loading</h4>
                    <div class="progress progress-striped active">
                        <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
                            <span class="sr-only">Loading Data</span>
                        </div>
                    </div>
                </div>
                <div id="ebi_tv_cy_wrapper">
                    <div id="ebi_tv_tooltip" class="bg-info"></div>
                    <div id="ebi_tv_cy" class="hidden"></div>
                </div>

                <div id="ebi_tv_legend" class="row collapse">
                    <div id="ebi_tv_colors" class="col-sm-6"></div>
                    <div id="ebi_tv_lines" class="col-sm-6">
                        <h5>
                          Line thickness by
                          <a href="http://www.ebi.ac.uk/intact/pages/faq/faq.xhtml#5" target="_blank">EBI's mi-score confidence value</a>.
                        </h5>
                        <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAB9CAMAAACiYnyZAAAAaVBMVEX///8AAAD//9uQOgDb//8AOpDbkDo6kNtmtv+Q2////7ZmADr/tmYAZra2ZgD/25C2//86AGY6AAAAADoAAGZmOpA6OpCQOjpmAAC2Zjr/29uQtv/b/9tmtrZmkLZmZraQZpBmZmbz8/OIjQdhAAACbklEQVRo3u2ajU7DMBCDm220Kazt2Pj/h/d/SEJWc5Ey4SkXEKD7JIS5AGZZi91ujWEY38hi6U5Wezlt3SCT+qyH+GnsmnavTi9Xpzcek+pM29nmrI8fgbtVcPOYVPfDvq2DWCy9PG5MqvtBt/H3d01kdINMatI632SO89/SHeXojqMRxtkz28Ngh0ltxl2/f1Tnm/Q4WQ8yqc1imZwdMiRnRx1nF7cxbKdzzn9ODMPQog9haHzhMVFAQhga//QxKYSHMHRkelpqI5qHcKoXLw9B6cKEh3Cqb/vghElZPvIQTvXaN0pHFsLtR3gkq2P8sU61qzyEoeXsUEY0CWGyWjuEs9W9o0W0YXwPPHOhEY9Bq85HnrnQCGyZFMIzF3oOD5mUZQfPXOh5fy82Mily5JkLLRd9ynzkmQuNbx5kUkyeuYcTGQePLpF55kLD8fkHE3l+ojFRQDJXVqetXTQbxv/jy5SHxpXXrsekEJ7yqW53vbIDkJTPVi82mg7QBEjKZ6uvznlMCh15ykPHh/j4sa+YFDnylIeGDDdf9I55yh/uADBXdQCe8tA4cIKVrgPwlBcd3Ia4Ibqzg6c8VuOTGA5l6wCGYRi/jq/LGjSuoD0mhfCyJnq6D/7XPSZFdx5YWctffpmuVpiUOfKyBo096DApdORlLdVxUzEpdORlLdVxUys45mXtYJXDpipftuJlbdayqYrbOW8NLWuyKpuKiQJS1mQ1bqrdzjEM469TUmzckaQX4oAUG70jHtYOnrzY6B3FkxSbuo7iyYuN3lHeQsKLjd4xfw8rLTZ6xI8Um5qM8CPFpjZWbAzDMIyf4B2F3THRUfgP7AAAAABJRU5ErkJggg=='/>
                    </div>
                </div>

                <div id="ebi_tv_buttons" class="hidden">
                    <div class="container">
                        <div class="row">
                            <div id="justified-button-bar" class="col-lg-12">
                                <div class="btn-group btn-group-justified">
                        	        <div class="btn-group">
	        	                        <button name="resetButton" title="Redraw the graph" type="button" class="btn btn-default" data-toggle="tooltip">
                    	        	    <i class="fa fa-refresh fa-fw"></i>&nbsp; Reset
	        	                        </button>
	                                </div>
                        	        <div class="btn-group">
	        	                        <button name="labelButton" title="Toggle node labels between Locus and UniProt ID" type="button" class="btn btn-default" data-toggle="tooltip" data-label="locus">
                    	        	    <i class="fa fa-tags fa-fw"></i>&nbsp; Locus
	        	                        </button>
                                    </div>
                        	        <div class="btn-group">
	        	                        <button name="verticalTextAlignButton" title="Change the vertical alignment of node text on graph" type="button" class="btn btn-default" data-toggle="tooltip" data-label="top">
                    	        	    <i class="fa fa-text-height fa-fw"></i>&nbsp; Top
	        	                        </button>
                                    </div>
                        	        <div class="btn-group">
	        	                        <button name="horizontalTextAlignButton" title="Change the horizontal alignment of node text on graph" type="button" class="btn btn-default" data-toggle="tooltip" data-label="center">
                    	        	    <i class="fa fa-text-width fa-fw"></i>&nbsp; Center
	        	                        </button>
                                    </div>
                        	        <div class="btn-group">
	        	                        <button name="viewNodeLabelButton" title="Toggle node labels" type="button" class="btn btn-default" data-toggle="tooltip" data-visible=true>
                    	        	    <i class="fa fa-check-square fa-fw"></i>&nbsp; Node Labels
	        	                        </button>
                                    </div>
                        	        <div class="btn-group">
	        	                        <button name="viewEdgeLabelButton" title="Toggle edge labels" type="button" class="btn btn-default" data-toggle="tooltip" data-visible=false>
                    	        	    <i class="fa fa-square fa-fw"></i>&nbsp; Edge Labels
	        	                        </button>
                                    </div>
                        	        <div class="btn-group">
	        	                        <button name="legendButton" title="Show the legend" type="button" class="btn btn-default" data-toggle="collapse" data-target="#ebi_tv_legend">
                    	        	    <i class="fa fa-square fa-fw"></i>&nbsp; Legend
	        	                        </button>
                                    </div>
                                    <div class="btn-group">
                                        <button title="Change the layout of the graph" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    	        	    <i class="fa fa-sitemap fa-fw"></i>&nbsp; Layout
                                        <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a href="#layoutArbor">Arbor</a></li>
                                            <li><a href="#layoutRandom">Random</a></li>
                                            <li><a href="#layoutGrid">Grid</a></li>
                                            <li><a href="#layoutCircle">Circle</a></li>
                                            <li><a href="#layoutSpread">Spread</a></li>
                                            <li><a href="#layoutSpringy">Springy</a></li>
                                        </ul>
                                    </div>
                                    <div class="btn-group">
                                        <button title="Export the graph as a PNG image or as JSON or CSV data" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    	        	    <i class="fa fa-floppy-o fa-fw"></i>&nbsp; Export
                                        <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a href="#exportPNG">PNG (Image as shown)</a></li>
                                            <li><a href="#exportJSON">JSON (Cytoscape)</a></li>
                                            <li><a href="#exportCSV">CSV (All interaction data)</a></li>
                                        </ul>
                                    </div>
	                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="d_table" class="tab-pane fade">
                <div class="ebi_tv_table_result"></div>
            </div>
        </div>

        <br>

        <div class="row">
            <div class="col-sm-12">
                <p>
                    Data &amp; web services provided by
                    <a href="http://www.ebi.ac.uk/intact/" target="_blank">EMBL-EBI IntAct</a>.
                </p>
            </div>
        </div>
    </div>
</div>
